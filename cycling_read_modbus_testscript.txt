def cycling_read_modbus(reg_type,reg_value):
    """ Automatic data cheking function on the cycling read modbus test script """

    with open('output_data.txt','r') as myfile:
        content=myfile.read()
    
    #list of values used as input to current function
    read_data_list=list(map(int,content.split()))
    
    if reg_type=='fix':  #if register type is fix
        #first time read_data value
        read_data=read_data_list[0]
        i=0
        while i<len(read_data_list):
            curr_read_data=read_data_list[i+1]  #next read_data value
            if curr_read_data!=read_data:
                print(f"{curr_read_data} doesn't match with first time read_data value")
                break
            i+=1
        else:
            print("Executed successfully")
    
    elif reg_type=='variable':  #if register type is variable
        #set min and max value for within the range checking
        if reg_value=='0x8a':
            min,max=12,13
        elif reg_value=='0x8c':
            min,max=10,265
        elif reg_value=='0x96':
            min,max=30,3300
        else:
            print("Register not found")
        
        i=0
        while i<len(read_data_list):
            read_data=read_data_list[i]  #provide read_data value
            if read_data<=min or read_data>=max:
                print(f"{read_data} is out of range")
                break
            i+=1
        else:
            print("Executed successfully")

    else:  #if regType is other than fix or variable
        print("Register type can either be fix or variable only")

    return None
